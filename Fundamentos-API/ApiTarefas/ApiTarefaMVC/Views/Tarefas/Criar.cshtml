@model ApiTarefaMVC.Models.Tarefa

@{
    ViewData["Title"] = "Nova Tarefa";
}

<h1 class="text-2xl font-bold text-gray-800 mb-4">Criar Nova Tarefa</h1>

<div class="row">
    <div class="col-md-6 bg-white p-6 rounded-lg shadow-md">
        
        <!-- CORRIGIDO: Usando rota HTML pura para evitar o erro de conflito de Tag Helper -->
        <form action="/Tarefas/Criar" method="post">
            
            <!-- Campos do formulário (mantendo os Tag Helpers) -->
            <div asp-validation-summary="ModelOnly" class="text-danger mb-4"></div>

            <div class="form-group mb-4">
                <label asp-for="Titulo" class="control-label block text-sm font-medium text-gray-700">Título</label>
                <input asp-for="Titulo" class="form-control mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" />
                <span asp-validation-for="Titulo" class="text-danger text-xs"></span>
            </div>

            <div class="form-group mb-4">
                <label asp-for="Descricao" class="control-label block text-sm font-medium text-gray-700">Descrição</label>
                <textarea asp-for="Descricao" class="form-control mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></textarea>
                <span asp-validation-for="Descricao" class="text-danger text-xs"></span>
            </div>

            <div class="form-group mb-4">
                <label asp-for="Data" class="control-label block text-sm font-medium text-gray-700">Data de Vencimento</label>
                <input asp-for="Data" class="form-control mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" />
                <span asp-validation-for="Data" class="text-danger text-xs"></span>
            </div>
            
            <div class="form-group mb-6">
                <label asp-for="Status" class="control-label block text-sm font-medium text-gray-700">Status</label>
                <select asp-for="Status" asp-items="Html.GetEnumSelectList<ApiTarefaMVC.Models.StatusTarefa>()" class="form-control mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></select>
                <span asp-validation-for="Status" class="text-danger text-xs"></span>
            </div>

            <!-- Botão de Submissão e Link de Voltar -->
            <div class="form-group mb-4">
                <!-- Botão de Submissão funcional e visível -->
                <input type="submit" value="Criar Tarefa" class="bg-indigo-600 text-white py-2 px-4 rounded-md shadow-md hover:bg-indigo-700 cursor-pointer transition duration-150 w-full mb-3" />
            </div>
            <div>
                <!-- Link de Voltar em HTML PURO (já estava assim) -->
                <a href="/Tarefas" class="text-indigo-600 border border-indigo-600 py-2 px-4 rounded-md hover:bg-indigo-50 transition duration-150 w-full block text-center">Voltar para a Lista</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}